<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <!-- <script src="main.js"></script> -->
    <!-- <script src="https://www.gstatic.com/firebasejs/7.6.2/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/live/10.7.1/firebase.js"></script> -->
    <script src="https://www.gstatic.com/firebasejs/3.5.2/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.5.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.5.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.5.2/firebase-database.js"></script>


    <!-- <link rel="stylesheet" href="style.css"> -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <script>
        var config = {
            apiKey: "AIzaSyBqkvA0-n4JinrVhyOkDh8sehnIVuXbqZg",
            authDomain: "madhuvanchs-app.firebaseapp.com",
            databaseURL: "https://madhuvanchs-app-default-rtdb.firebaseio.com",
            projectId: "madhuvanchs-app",
            storageBucket: "madhuvanchs-app.appspot.com",
            messagingSenderId: "149710078041",
            appId: "1:149710078041:web:d1b1dbe4ff26db1b94f148",
            measurementId: "G-C9FCN66REC"
        };
        firebase.initializeApp(config);
    </script>
    <!-- <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script> -->
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa&family=Lato&family=Orbitron&display=swap"
        rel="stylesheet">

</head>

<body onload="load()" style="width: 100vw !important;margin: 0px;">
    <div class="center">
        <label class="h2">Team 1 v/s Team 2</label>
    </div>
    <div class="center">
        <label class="h1">12-1 (1.0)</label>
    </div>
    <hr>
    <b>New Delivery : </b>
    <div class="d-flex">
        <button class="ball-assign" onclick="assignBall(this.innerHTML)">1</button>
        <button class="ball-assign" onclick="assignBall(this.innerHTML)">2</button>
        <button class="ball-assign" onclick="assignBall(this.innerHTML)">3</button>
        <button class="ball-assign bg-b" onclick="assignBall(this.innerHTML)">4</button>
        <button class="ball-assign bg-b" onclick="assignBall(this.innerHTML)">6</button>
        <button class="ball-assign bg-red" onclick="assignBall(this.innerHTML)">Wd</button>
        <button class="ball-assign bg-red" onclick="assignBall(this.innerHTML)">NB</button>
        <button class="ball-assign bg-pink" onclick="assignBall(this.innerHTML)">W</button>
    </div>
    <b>Other Details : </b>
    <div id="other-options">
        <div id="wickets-cont">
        </div>
        <div class="modal" id="wicket-modal">
            <div class="modal-box">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Wicket Details</h2> <button class="close-btn"
                            onclick="document.getElementById('wicket-modal').style.display = 'none'">Close</button>
                    </div>
                    <select name="" class="slct" id="wicket-how">
                        <option value="" hidden>--How Player Got Out--</option>
                        <option value="">Catchout</option>
                        <option value="">LBW</option>
                        <option value="">Run Out</option>
                        <option value="">Clean Bowled</option>
                    </select>
                    <select name="" class="slct" id="wicket-catcher">
                        <option disabled selected value="">--Select Catcher--</option>
                        <option value="-">None</option>
                        <optgroup class="fielders-dropdown" label="Players"></optgroup>
                    </select>
                    <hr>
                    <input type="text" placeholder="New Batter">
                    <hr>
                    <button class="button w-100">Done</button>
                </div>
            </div>
        </div>
    </div>
    <hr>
    <button class="button w-100" onclick="document.getElementById('review-modal').style.display = 'flex';">Apply For
        Review</button>
    <div class="modal" id="review-modal">
        <div class="modal-box">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Review</h2>
                    <button class="close-btn"
                        onclick="document.getElementById('review-modal').style.display = 'none'">Close</button>
                </div>
                <div>
                    <select class="slct" id="review-original-inp">
                        <option selected disabled value="" oninput="reviewSwitchToggle()">--Original Decision--</option>
                        <option value="out">Out</option>
                        <option value="not out">Not Out</option>
                    </select>

                    <select class="slct" id="review-by-inp">
                        <option selected disabled value="" oninput="reviewSwitchToggle()">--Select review requester--
                        </option>
                        <option value="baller">Baller</option>
                        <option value="batter">Batter</option>
                    </select>
                    <hr>
                    <span>Show Review Screen</span>
                    <label class="switch">
                        <input type="checkbox" id="review-switch" onchange="reviewSwitchToggle()">
                        <span class="slider round"></span>
                    </label>
                    <hr>
                    <select class="slct" id="review-impact-inp" oninput="reviewSwitchToggle()">
                        <option selected disabled value="">--Select impact--</option>
                        <option value=" ">-</option>
                        <option value="in line">In Line</option>
                        <option value="off line">Off Line</option>
                    </select>
                    <select class="slct" id="review-pitching-inp" oninput="reviewSwitchToggle()">
                        <option selected disabled value="">--Select pitching--</option>
                        <option value=" ">-</option>
                        <option value="in line">In Line</option>
                        <option value="off line">Off Line</option>
                    </select>
                    <select class="slct" id="review-wicket-inp" oninput="reviewSwitchToggle()">
                        <option selected disabled value="">--Select wickets--</option>
                        <option value=" ">-</option>
                        <option value="missing">Missing</option>
                        <option value="hitting">Hitting</option>
                    </select>

                </div>
            </div>
        </div>
    </div>

    <span>

    </span>
</body>
<script>
    function assignBall(txt) {
        if (txt == "W") {
            console.log('Out')
            document.getElementById('wicket-modal').style.display = 'flex';
        }
    }
    function reviewSwitchToggle() {
        switchState = document.getElementById('review-switch').checked
        console.log(switchState)
        if (switchState == true) {
            // /* 
            firebase.database().ref('sports/cricket/liveMatch/review').set({
                open: true,
                impact: document.getElementById('review-impact-inp').value,
                pitching: document.getElementById('review-pitching-inp').value,
                wicket: document.getElementById('review-wicket-inp').value,
                reviewBy: document.getElementById('review-by-inp').value,
                original: document.getElementById('review-original-inp').value,
            })
            //  */
        }
        else {
            firebase.database().ref('sports/cricket/liveMatch/review').set({
                open: false,
                impact: '',
                pitching: '',
                wicket: '',
                reviewBy: '',
                original: '',
            })
            document.getElementById('review-impact-inp').value = ''
            document.getElementById('review-pitching-inp').value = ''
            document.getElementById('review-wicket-inp').value = ''
            // document.getElementById('review-by-inp').value = ''
            // document.getElementById('review-original-inp').value = ''
        }
    }
    function load() {
        firebase.database().ref('sports/cricket/liveMatch').on('value', (snapshot) => {
            matchData = snapshot.val();
            loadDropdowns()
        }, function () { })
    }
    function loadDropdowns() {
        players = {
            fielders: [
                { name: 'SP1' }, { name: 'SP2' }, { name: 'SP3' }
            ], batters: []
        }
        elems = document.getElementsByClassName('fielders-dropdown')
        for (i = 0; i < elems.length; i++) {
            elems[i].innerHTML = '<option hidden>--Select Player--</option>'
            for (k = 0; k < players.fielders.length; k++) {
                elems[i].innerHTML += `<option>${players.fielders[k].name}</option>`
            }
        }
    }
</script>
<!-- modal.css -->
<style>
    .modal-header {
        display: flex;
        width: 100%;
        justify-content: space-between;
    }

    .close-btn {
        background-color: transparent;
        border: none;
        outline: none;
    }

    .modal {
        background-color: rgba(0, 0, 0, 0.5);
        display: none;
        position: absolute;
        top: 0px;
        z-index: 1000;
        height: 100vh;
        width: 100vw;
        font-family: 'Lato',sans-serif;
    }

    @keyframes modalAnim {
        from {
            bottom: -55vh;
        }

        to {
            bottom: 0;
        }
    }

    .modal-content {
        padding: 5px 15px 5px 15px;
    }

    .modal-box {
        background-color: white;
        color: black !important;
        /* display: flex; */
        position: absolute;
        bottom: 0;
        left: 0;
        z-index: 1001;
        width: 100vw;
        height: 55vh;
        border-top-right-radius: 50px;
        border-top-left-radius: 50px;
        animation: modalAnim 0.25s ease-in;
    }
</style>
<style>
    input{
        background-color: white;
        outline: none;
        border: 1px solid black;
        border-radius: 5px;
        padding: 15px 0px 15px 5px;
        width: 100%;
        font-size: 18px;
    }
    body {
        font-family: 'Lato', sans-serif;
    }

    .w-100 {
        width: 100%;
    }

    .button {
        font-family: 'Lato',sans-serif;
        background-color: black;
        color: white;
        outline: none;
        border: 1px solid white;
        border-radius: 5px;
        font-size: 22px;
        padding: 12px 6px 12px 6px;
        /* margin: 5px; */
    }

    .switch {
        position: relative;
        display: inline-block;
        width: 60px;
        height: 34px;
    }

    /* Hide default HTML checkbox */
    .switch input {
        opacity: 0;
        width: 0;
        height: 0;
    }

    /* The slider */
    .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: #6e6e6e;
        -webkit-transition: .4s;
        transition: .4s;
    }

    .slider:before {
        position: absolute;
        content: "";
        height: 26px;
        width: 26px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        -webkit-transition: .4s;
        transition: .4s;
    }

    input:checked+.slider {
        background-color: #1f1f1f;
    }

    input:focus+.slider {
        box-shadow: 0 0 1px #1f1f1f;
    }

    input:checked+.slider:before {
        -webkit-transform: translateX(26px);
        -ms-transform: translateX(26px);
        transform: translateX(26px);
    }

    /* Rounded sliders */
    .slider.round {
        border-radius: 34px;
    }

    .slider.round:before {
        border-radius: 50%;
    }

    .slct {
        background-color: #fff;
        border-radius: 5px;
        color: #1f1f1f;
        width: 100%;
        padding: 10px;
        font-size: 18px;
        font-family: 'Lato',sans-serif;
    }

    .slct-dark {
        background-color: #1f1f1f;
        border-radius: 5px;
        color: white;
        width: 100%;
        padding: 10px;
        font-size: 18px;
        font-family: 'Lato',sans-serif;
    }

    .bg-b {
        background-color: blue !important;
        color: white;
    }

    .bg-pink {
        background-color: purple !important;
        color: white;
    }

    .bg-red {
        background-color: red !important;
        color: white;
    }

    .ball-assign {
        width: 12.5vw;
        height: 12.5vw;
        font-size: 22px;
        font-family: 'Orbitron', sans-serif;
        border-radius: 10px;
        background-color: #1f1f1f;
        outline: none;
        border: none;
        color: white;
    }

    .d-flex {
        display: flex;
    }

    .h2 {
        font-size: 28px;
    }

    .h1 {
        font-size: 34px;
    }

    .center {
        display: flex;
        justify-content: center;
    }

    body {
        color: white;
        background-color: #0a0a0a;
        font-family: 'Poppins', sans-serif;
    }
</style>
<script>

</script>

</html>
